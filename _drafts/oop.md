# OOP
> Object Oriented Programming   
> 한국어 번역은 "객체 지향 프로그래밍". 실제 세계를 가상의 컴퓨터 세계로 옮기려는 욕구에 의해 만들어진 개념이다.  
> 객체는 상태(필드, property...)와 행동(method)로 이루어져 있다.

## 클래스와 오브젝트
클래스는 오브젝트가 아니다. 클래스는 **분류** 이다. 오브젝트는 **유일하게 식별할 수 있어야 한다**. 클래스로 오브젝트를 만들기 때문에 클래스가 객체라고 오해할 수 있으나, 클래스는 오브젝트 명세라고 보아야 한다.

## OOP의 특징
1. 추상화
2. 캡슐화
3. 상속
4. 다형성

## 추상화  
추상화란 무엇일까? 영어로는 abstract. 반의어로는 concrete(구상). 프로그래밍 외에도 쓰이는 추상이란 용어를 살펴보자. 
'추상'이란 단어가 가장 유명한 분야는 미술일 것이다. 스페인의 국민 화가 피카소는 추상미술의 대가로 불린다.    
피카소의 그림을 보면, 포착한 대상의 형태가 기괴하다. 예술이란 응당 아름다운 것을 말해야 하거늘, 이 기괴한 것이 대체 무슨 예술이냐?   
![울고있는여인](http://mblogthumb1.phinf.naver.net/data6/2005/4/24/112/%BF%EC%B4%C2_%BF%A9%C0%CE-khs8000.jpg?type=w210)  

피카소의 대표작 <울고 있는 여인>이다. 다양한 시점이 혼재한다. 옆에서 본 얼굴 모양, 울고 있는 정면의 눈, 과장된 눈 모양이 같은 시점에 혼합되어 있다.  괴발개발 그린 것 같다. 그러나 자세히 살펴보면 입체적인 관찰을 느낄 수 있다. 캔버스는 2d이지만 3d를 말하고 있는 것이다.  
피카소가 <울고 있는 여인>을 표현할 수 있는 요소는 무한히 많았을 것이다. (현재 시점으로는 보이지 않는) 뒤편의 모습, 눈물, 손수건, (현재 시점으로는 잘 보이지 않는) 옆모습... 모두가 <울고 있는 여인>의 속성이다. 그러나 피카소는 자신이 판단한 우선 순위에 따라(추상화해서) 시점과 관계없이 대상을 규정하고 그린 것이다.  
이것은 '2d 그림을 3d처럼 보이게 속이는'게 당연했었던 미술 사조에 충격적이었다. 캔버스의 제한을 벗어나서 과감히 실제를 포착하려는 시도가 높이 평가 받았다. "추상화하는 활동" 자체가 화가의 예술적 작업으로 평가받았으며, 추상화(추상적인 그림)라는 장르를 만들어졌다.  

다시 돌아와서 OOP에서의 추상은 무엇일까?
>추상은 대상의 여러 속성 중에서 공통 요소를 포착, 더 높은 계층으로 끌어올린다.    

구상으로 존재하는 인간은 모두 이름이 있다. 나이도 다르고, 생김새도 다르고, 키와 몸무게도 다르다. 그러나 추상화된 인간은 개성을 잃어버리고 공통의 속성을 갖는다. 
1. 인간은 죽는다.
2. 인간은 사회적 동물이다.
3. 인간은 이성을 갖고 있다.  

모든 실체적 인간에게 적용할 수 있는 명제다. 실체로서의 인간으로부터, 위의 명제를 뽑아내는 과정을 **추상화**라고 한다.

OOP를 위해서는 Object를 생각해야 한다. 무엇이 Object의 속성과 메서드가 될 것인가? 이것을 고민하고, 결론짓는 과정이 **추상화**다. 클래스는 대상의 **추상화** 작업을 통해 생겨난 결과물이다.

## 상속  
상속은 부모로부터 자식에게 무언가가 전달됨을 뜻한다. 상속이 이루어지려면 누가 누구에게, 즉 위계 구조가 있어야 하고 넘겨주는 무언가가 있어야 한다. 개인적으로 상속이라는 표현보다 `extends`, 확장이 더 적절하다고 생각한다. 대상 타입을 **확장**하여 새로운 상태나 행동을 추가한다는 설명이, 부모를 **상속**해 새로운 상태나 행동을 추가하는 것보다 직관적이다.  
생물을 분류할 때 계문강목과속종으로 나눈다는 것을 과학시간에 배운다.

- 동물계   
- 척삭동물문   
- 포유강  
- 영장목   
- 사람속(Homo)   
- 인간종(Homo Sapiens)  

인간종은 상위 항목의 속성을 모두 상속받는(확장한)다.  
동물계가 식물계와 구분되는 속성, "이동할 수 있다"를 갖고 있다. 인간은 누구나 스스로 움직일 수 있다.(특별한 케이스를 제외하고)  
척삭동물문이 가진 "척추가 있고 척수 신경계를 갖고 있다"를 갖고 있다. 인간은 누구나 허리, 척수를 갖고 있다.  
포유강이 가진 "자식 개체는 개체로 성숙될 때까지 부모에게 의존한다. 부모는 수유의 형태로 자식 개체를 성숙시킨다"를 갖고 있다. 인간은 알이 아닌 아기로 태어나고, 유아기 젖을 먹고 자란다.  
영장목의 "손을 사용해 여러 동작을 수행한다. 본능과 이성이 존재한다."는 속성도 갖고 있다.  
사람속의 "이족 보행을 하며 도구를 사용한다."는 속성 역시 갖고 있다. 인간종이 아닌 사람속으로는 네안데르탈인, 오스트랄로 피테쿠스 등이 있다.  
인간개체는 상위 분류의 모든 속성을 상속받은 것이다. OOP에서는 상위 클래스(분류)의 모든 속성을 하위 클래스(분류)가 갖고 있는 것이다.

## 캡슐화
객체는 모든 속성과 동작을 외부에 노출하지 않는다는 개념이다. 필요에 따라 객체 안에서만 접근 가능한 속성과 동작을 가질 수 있다. 넓은 의미의 *인터페이스* 개념이다.
>원래 인터페이스의 의미는 서로 다른 존재(사물과 사물, 인간과 사물.. 등)간 접점을 말하는 용어다. 여기서는 객체와 객체간 접점을 의미한다.

객체는 자신의 일부 요소를 숨긴채, 드러내고 싶은 부분만 다른 객체에 드러낼 수 있다. 이것은 일관된 인터페이스를 제공하며 다른 객체는 대상 객체에 추상화된 인터페이스로 통신할 수 있게 한다.  
자동차 운전을 생각해보자. 우리는 엑셀을 밟으면 움직이고 브레이크를 밟으면 멈춘다는 사실을 알고 있다. 엑셀을 밟으면 스로틀 밸브가 열리고 흡기라인에서 연료 혼합비가 달라지며 실린더에 들어가는 연료양이 증가하며 실린더 내부 폭발력이 증가하고 크랭크의 토크가 강해지면서 미션의 토크가 강해지고 휠에 전달되는 토크가 강해져서 더 빠르게 움직이는 과정은, 운전자가 알 필요 없다. 운전자가 이렇게 세부적으로 컨트롤해야 한다면, 자동차는 세계에서 가장 다루기 어려운 물건이 될 것이다. 또 하나라도 잘못 컨트롤 한다면 "움직이는" 목표에 맞지 않게 다른 동작을 할 수도 있다.  
자동차는 단지 엑셀과 브레이크라는 인터페이스를 제공하고 그에 따른 행동을 보장함으로, 운전자에게 "운전"을 제공하는 것이다.  
모든 객체를 모든 객체가 알 필요 없다. 보장된 행동을 추상화해 외부에 노출하고, 그 외의 것은 내부로 숨기는 과정이 캡슐화다. 캡슐화는 더 복잡하고 큰 객체들을 쉽게 제어할 수 있게 해준다.  

## 다형성
객체가 여러 모습을 가질 '가능성'을 갖는 것을 말한다. 앞서 말한 추상화, 상속 개념과 연결된다.  
인간은 동물계이기도 하지만, 동물계 안에 인간이 있기도 하다. 

```
// 둘 모두 가능하다.
동물 = new 인간
동물 = new 개
```
인간과 개는 동물의 "움직일 수 있는" 속성을 모두 갖고 있으므로, 동물에 해당된다.
다형성은 상속과 함께, Override, Overload 키워드와 관계가 있다.  
Override는 상위 객체의 메서드를 재정의하는 것을 말한다.  
동물의 움직이기()메서드가 뱀에게는 기어다니기(), 개에게는 네발로 걷기(), 인간에게는 두발로 걷기()로 구현될 수 있다. 
Overload는 같은 메서드가 인수와 반환형에 따라 재정의되는 것을 말한다.  
인간의 걷기()는 (늦었을 때)빨리걷기, (애인과 함께)천천히 걷기.. 로 구현될 수 있다.

# 객체지향설계의 5원칙, SOLID

## Single Responsiblity Pricipal

객체는 하나의 역할만 하도록 해야 한다. 여러가지 역할을 수행한다면, 한 역할의 수정에는 여러 부분이 수정되어야 한다.